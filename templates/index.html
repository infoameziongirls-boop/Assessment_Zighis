{% extends "base.html" %}
{% block content %}
<div class="row">
  <div class="col-md-8">
    <h3>Students</h3>
    <div class="list-group mb-3">
      {% for s in students %}
        <a class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" href="{{ url_for('student_view', student_id=s.id) }}">
          <div>
            <strong>{{ s.full_name() }}</strong><br>
            <small class="text-muted">{{ s.student_number }}</small>
          </div>
          <span class="badge bg-secondary rounded-pill">{{ s.assessments|length }}</span>
        </a>
      {% else %}
        <p>No students yet.</p>
      {% endfor %}
    </div>
  </div>

  <div class="col-md-4">
    <h5>Recent assessments</h5>
    <ul class="list-group">
      {% for a in recent %}
        <li class="list-group-item">
          <strong>{{ a.student.full_name() }}</strong><br>
          <small>{{ category_labels.get(a.category, a.category) }} — {{ a.subject or '—' }}</small><br>
          <strong>{{ a.score }}/{{ a.max_score }}</strong>
        </li>
      {% else %}
        <li class="list-group-item">No assessments yet.</li>
      {% endfor %}
    </ul>
  </div>
</div>
{% endblock %}
